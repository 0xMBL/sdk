function At(o,t){return new Promise(e=>{o.addEventListener("message",function n({data:_}){_==null||_.type!==t||(o.removeEventListener("message",n),e(_))})})}At(self,"wasm_bindgen_worker_init").then(async o=>{const t=await Promise.resolve().then(function(){return Jt});await t.default(o.module,o.memory),postMessage({type:"wasm_bindgen_worker_ready"}),t.wbg_rayon_start_worker(o.receiver)});async function Ft(o,t,e){if(e.numThreads()===0)throw new Error("num_threads must be > 0.");const n={type:"wasm_bindgen_worker_init",module:o,memory:t,receiver:e.receiver()};await Promise.all(Array.from({length:e.numThreads()},async()=>{const _=new Worker("../../..");return _.postMessage(n),await At(_,"wasm_bindgen_worker_ready"),_})),e.build()}let r;const xt=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&xt.decode();let Z=null;function H(){return(Z===null||Z.buffer!==r.memory.buffer)&&(Z=new Uint8Array(r.memory.buffer)),Z}function R(o,t){return o=o>>>0,xt.decode(H().slice(o,o+t))}const F=new Array(128).fill(void 0);F.push(void 0,null,!0,!1);let et=F.length;function g(o){et===F.length&&F.push(F.length+1);const t=et;return et=F[t],F[t]=o,t}function l(o){return F[o]}function Ut(o){o<132||(F[o]=et,et=o)}function p(o){const t=l(o);return Ut(o),t}let w=0;const It=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Vt=function(o,t){const e=It.encode(o);return t.set(e),{read:o.length,written:e.length}};function f(o,t,e){if(e===void 0){const c=It.encode(o),d=t(c.length,1)>>>0;return H().subarray(d,d+c.length).set(c),w=c.length,d}let n=o.length,_=t(n,1)>>>0;const a=H();let i=0;for(;i<n;i++){const c=o.charCodeAt(i);if(c>127)break;a[_+i]=c}if(i!==n){i!==0&&(o=o.slice(i)),_=e(_,n,n=i+o.length*3,1)>>>0;const c=H().subarray(_+i,_+n),d=Vt(o,c);i+=d.written}return w=i,_}function E(o){return o==null}let tt=null;function s(){return(tt===null||tt.buffer!==r.memory.buffer)&&(tt=new Int32Array(r.memory.buffer)),tt}function yt(o){const t=typeof o;if(t=="number"||t=="boolean"||o==null)return`${o}`;if(t=="string")return`"${o}"`;if(t=="symbol"){const _=o.description;return _==null?"Symbol":`Symbol(${_})`}if(t=="function"){const _=o.name;return typeof _=="string"&&_.length>0?`Function(${_})`:"Function"}if(Array.isArray(o)){const _=o.length;let a="[";_>0&&(a+=yt(o[0]));for(let i=1;i<_;i++)a+=", "+yt(o[i]);return a+="]",a}const e=/\[object ([^\]]+)\]/.exec(toString.call(o));let n;if(e.length>1)n=e[1];else return toString.call(o);if(n=="Object")try{return"Object("+JSON.stringify(o)+")"}catch{return"Object"}return o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:n}function ht(o,t,e,n){const _={a:o,b:t,cnt:1,dtor:e},a=(...i)=>{_.cnt++;const c=_.a;_.a=0;try{return n(c,_.b,...i)}finally{--_.cnt===0?r.__wbindgen_export_3.get(_.dtor)(c,_.b):_.a=c}};return a.original=_,a}function vt(o,t,e){r.wasm_bindgen__convert__closures__invoke1_mut__h660130c9d44ece0c(o,t,g(e))}function J(o,t){const e=t(o.length*1,1)>>>0;return H().set(o,e/1),w=o.length,e}function Mt(o,t){return o=o>>>0,H().subarray(o/1,o/1+t)}function b(o,t){if(!(o instanceof t))throw new Error(`expected instance of ${t.name}`);return o.ptr}function v(o,t){try{return o.apply(this,t)}catch(e){r.__wbindgen_exn_store(g(e))}}function Bt(o,t,e,n){r.wasm_bindgen__convert__closures__invoke2_mut__h2d5f33f2057d5c7d(o,t,g(e),g(n))}function Ct(o){const t=r.initThreadPool(o);return p(t)}function $t(o){r.wbg_rayon_start_worker(o)}class U{static __wrap(t){t=t>>>0;const e=Object.create(U.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_address_free(t)}static from_private_key(t){b(t,k);const e=r.address_from_private_key(t.__wbg_ptr);return U.__wrap(e)}static from_view_key(t){b(t,V);const e=r.address_from_view_key(t.__wbg_ptr);return U.__wrap(e)}static from_string(t){const e=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=w,_=r.address_from_string(e,n);return U.__wrap(_)}to_string(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.address_to_string(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}verify(t,e){const n=J(t,r.__wbindgen_malloc),_=w;return b(e,q),r.address_verify(this.__wbg_ptr,n,_,e.__wbg_ptr)!==0}}class ct{static __wrap(t){t=t>>>0;const e=Object.create(ct.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_executionresponse_free(t)}getOutputs(){const t=r.executionresponse_getOutputs(this.__wbg_ptr);return p(t)}}class G{static __wrap(t){t=t>>>0;const e=Object.create(G.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_keypair_free(t)}constructor(t,e){b(t,P);var n=t.__destroy_into_raw();b(e,A);var _=e.__destroy_into_raw();const a=r.keypair_new(n,_);return G.__wrap(a)}provingKey(){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.keypair_provingKey(_,this.__wbg_ptr);var t=s()[_/4+0],e=s()[_/4+1],n=s()[_/4+2];if(n)throw p(e);return P.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}verifyingKey(){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.keypair_verifyingKey(_,this.__wbg_ptr);var t=s()[_/4+0],e=s()[_/4+1],n=s()[_/4+2];if(n)throw p(e);return A.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class k{static __wrap(t){t=t>>>0;const e=Object.create(k.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_privatekey_free(t)}constructor(){const t=r.privatekey_new();return k.__wrap(t)}static from_seed_unchecked(t){const e=J(t,r.__wbindgen_malloc),n=w,_=r.privatekey_from_seed_unchecked(e,n);return k.__wrap(_)}static from_string(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.privatekey_from_string(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return k.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}to_string(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.privatekey_to_string(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}to_view_key(){const t=r.privatekey_to_view_key(this.__wbg_ptr);return V.__wrap(t)}to_address(){const t=r.privatekey_to_address(this.__wbg_ptr);return U.__wrap(t)}sign(t){const e=J(t,r.__wbindgen_malloc),n=w,_=r.privatekey_sign(this.__wbg_ptr,e,n);return q.__wrap(_)}static newEncrypted(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.privatekey_newEncrypted(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return B.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toCiphertext(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.privatekey_toCiphertext(a,this.__wbg_ptr,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return B.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static fromPrivateKeyCiphertext(t,e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);b(t,B);const c=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),d=w;r.privatekey_fromPrivateKeyCiphertext(i,t.__wbg_ptr,c,d);var n=s()[i/4+0],_=s()[i/4+1],a=s()[i/4+2];if(a)throw p(_);return k.__wrap(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class B{static __wrap(t){t=t>>>0;const e=Object.create(B.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_privatekeyciphertext_free(t)}static encryptPrivateKey(t,e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);b(t,k);const c=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),d=w;r.privatekeyciphertext_encryptPrivateKey(i,t.__wbg_ptr,c,d);var n=s()[i/4+0],_=s()[i/4+1],a=s()[i/4+2];if(a)throw p(_);return B.__wrap(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}decryptToPrivateKey(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.privatekeyciphertext_decryptToPrivateKey(a,this.__wbg_ptr,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return k.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.privatekeyciphertext_toString(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}static fromString(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.privatekeyciphertext_fromString(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return B.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class x{static __wrap(t){t=t>>>0;const e=Object.create(x.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_program_free(t)}static fromString(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.program_fromString(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return x.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.program_toString(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}getFunctions(){const t=r.program_getFunctions(this.__wbg_ptr);return p(t)}getFunctionInputs(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.program_getFunctionInputs(a,this.__wbg_ptr,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return p(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}getRecordMembers(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.program_getRecordMembers(a,this.__wbg_ptr,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return p(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}getStructMembers(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.program_getStructMembers(a,this.__wbg_ptr,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return p(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static getCreditsProgram(){const t=r.program_getCreditsProgram();return x.__wrap(t)}id(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.program_id(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}isEqual(t){return b(t,x),r.program_isEqual(this.__wbg_ptr,t.__wbg_ptr)!==0}}class rt{static __wrap(t){t=t>>>0;const e=Object.create(rt.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_programmanager_free(t)}execute_local(t,e,n,_,a,i,c){try{const h=r.__wbindgen_add_to_stack_pointer(-16);b(t,k);var d=t.__destroy_into_raw();const O=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),I=w,L=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),M=w;let K=0;E(i)||(b(i,P),K=i.__destroy_into_raw());let W=0;E(c)||(b(c,A),W=c.__destroy_into_raw()),r.programmanager_execute_local(h,this.__wbg_ptr,d,O,I,L,M,g(_),a,K,W);var u=s()[h/4+0],y=s()[h/4+1],m=s()[h/4+2];if(m)throw p(y);return ct.__wrap(u)}finally{r.__wbindgen_add_to_stack_pointer(16)}}execute(t,e,n,_,a,i,c,d,u,y,m,h){b(t,k);var O=t.__destroy_into_raw();const I=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),L=w,M=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),K=w;b(i,S);var W=i.__destroy_into_raw();const $=f(c,r.__wbindgen_malloc,r.__wbindgen_realloc),X=w;let D=0;E(u)||(b(u,P),D=u.__destroy_into_raw());let z=0;E(y)||(b(y,A),z=y.__destroy_into_raw());let Y=0;E(m)||(b(m,P),Y=m.__destroy_into_raw());let Q=0;E(h)||(b(h,A),Q=h.__destroy_into_raw());const _t=r.programmanager_execute(this.__wbg_ptr,O,I,L,M,K,g(_),a,W,$,X,d,D,z,Y,Q);return p(_t)}transfer(t,e,n,_,a,i,c,d,u,y,m,h,O){b(t,k);var I=t.__destroy_into_raw();const L=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),M=w,K=f(_,r.__wbindgen_malloc,r.__wbindgen_realloc),W=w;let $=0;E(a)||(b(a,S),$=a.__destroy_into_raw()),b(c,S);var X=c.__destroy_into_raw();const D=f(d,r.__wbindgen_malloc,r.__wbindgen_realloc),z=w;let Y=0;E(y)||(b(y,P),Y=y.__destroy_into_raw());let Q=0;E(m)||(b(m,A),Q=m.__destroy_into_raw());let _t=0;E(h)||(b(h,P),_t=h.__destroy_into_raw());let mt=0;E(O)||(b(O,A),mt=O.__destroy_into_raw());const Nt=r.programmanager_transfer(this.__wbg_ptr,I,e,L,M,K,W,$,i,X,D,z,u,Y,Q,_t,mt);return p(Nt)}deploy(t,e,n,_,a,i,c,d,u){b(t,k);var y=t.__destroy_into_raw();const m=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),h=w;b(a,S);var O=a.__destroy_into_raw();const I=f(i,r.__wbindgen_malloc,r.__wbindgen_realloc),L=w;let M=0;E(d)||(b(d,P),M=d.__destroy_into_raw());let K=0;E(u)||(b(u,A),K=u.__destroy_into_raw());const W=r.programmanager_deploy(this.__wbg_ptr,y,m,h,E(n)?0:g(n),_,O,I,L,c,M,K);return p(W)}split(t,e,n,_,a,i,c){b(t,k);var d=t.__destroy_into_raw();b(n,S);var u=n.__destroy_into_raw();const y=f(_,r.__wbindgen_malloc,r.__wbindgen_realloc),m=w;let h=0;E(i)||(b(i,P),h=i.__destroy_into_raw());let O=0;E(c)||(b(c,A),O=c.__destroy_into_raw());const I=r.programmanager_split(this.__wbg_ptr,d,e,u,y,m,a,h,O);return p(I)}join(t,e,n,_,a,i,c,d,u,y,m){b(t,k);var h=t.__destroy_into_raw();b(e,S);var O=e.__destroy_into_raw();b(n,S);var I=n.__destroy_into_raw();b(a,S);var L=a.__destroy_into_raw();const M=f(i,r.__wbindgen_malloc,r.__wbindgen_realloc),K=w;let W=0;E(d)||(b(d,P),W=d.__destroy_into_raw());let $=0;E(u)||(b(u,A),$=u.__destroy_into_raw());let X=0;E(y)||(b(y,P),X=y.__destroy_into_raw());let D=0;E(m)||(b(m,A),D=m.__destroy_into_raw());const z=r.programmanager_join(this.__wbg_ptr,h,O,I,_,L,M,K,c,W,$,X,D);return p(z)}constructor(){const t=r.programmanager_new();return rt.__wrap(t)}cacheKeypairInWasmMemory(t,e,n,_){try{const u=r.__wbindgen_add_to_stack_pointer(-16),y=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),m=w,h=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),O=w;b(n,P);var a=n.__destroy_into_raw();b(_,A);var i=_.__destroy_into_raw();r.programmanager_cacheKeypairInWasmMemory(u,this.__wbg_ptr,y,m,h,O,a,i);var c=s()[u/4+0],d=s()[u/4+1];if(d)throw p(c)}finally{r.__wbindgen_add_to_stack_pointer(16)}}getCachedKeypair(t,e){try{const i=r.__wbindgen_add_to_stack_pointer(-16),c=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),d=w,u=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),y=w;r.programmanager_getCachedKeypair(i,this.__wbg_ptr,c,d,u,y);var n=s()[i/4+0],_=s()[i/4+1],a=s()[i/4+2];if(a)throw p(_);return G.__wrap(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}synthesizeKeypair(t,e){try{const i=r.__wbindgen_add_to_stack_pointer(-16),c=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),d=w,u=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),y=w;r.programmanager_synthesizeKeypair(i,this.__wbg_ptr,c,d,u,y);var n=s()[i/4+0],_=s()[i/4+1],a=s()[i/4+2];if(a)throw p(_);return G.__wrap(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}clearKeyCache(){r.programmanager_clearKeyCache(this.__wbg_ptr)}keyExists(t,e){try{const i=r.__wbindgen_add_to_stack_pointer(-16),c=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),d=w,u=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),y=w;r.programmanager_keyExists(i,this.__wbg_ptr,c,d,u,y);var n=s()[i/4+0],_=s()[i/4+1],a=s()[i/4+2];if(a)throw p(_);return n!==0}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class P{static __wrap(t){t=t>>>0;const e=Object.create(P.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_provingkey_free(t)}static fromBytes(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=J(t,r.__wbindgen_malloc),c=w;r.provingkey_fromBytes(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return P.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toBytes(){try{const i=r.__wbindgen_add_to_stack_pointer(-16);r.provingkey_toBytes(i,this.__wbg_ptr);var t=s()[i/4+0],e=s()[i/4+1],n=s()[i/4+2],_=s()[i/4+3];if(_)throw p(n);var a=Mt(t,e).slice();return r.__wbindgen_free(t,e*1),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class st{static __wrap(t){t=t>>>0;const e=Object.create(st.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_recordciphertext_free(t)}static fromString(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.recordciphertext_fromString(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return st.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.recordciphertext_toString(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}decrypt(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16);b(t,V),r.recordciphertext_decrypt(a,this.__wbg_ptr,t.__wbg_ptr);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return S.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}isOwner(t){return b(t,V),r.recordciphertext_isOwner(this.__wbg_ptr,t.__wbg_ptr)!==0}}class S{static __wrap(t){t=t>>>0;const e=Object.create(S.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_recordplaintext_free(t)}static fromString(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.recordplaintext_fromString(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return S.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.recordplaintext_toString(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}microcredits(){const t=r.recordplaintext_microcredits(this.__wbg_ptr);return BigInt.asUintN(64,t)}serialNumberString(t,e,n){let _,a;try{const h=r.__wbindgen_add_to_stack_pointer(-16);b(t,k);const O=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),I=w,L=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),M=w;r.recordplaintext_serialNumberString(h,this.__wbg_ptr,t.__wbg_ptr,O,I,L,M);var i=s()[h/4+0],c=s()[h/4+1],d=s()[h/4+2],u=s()[h/4+3],y=i,m=c;if(u)throw y=0,m=0,p(d);return _=y,a=m,R(y,m)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(_,a,1)}}}class q{static __wrap(t){t=t>>>0;const e=Object.create(q.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_signature_free(t)}static sign(t,e){b(t,k);const n=J(e,r.__wbindgen_malloc),_=w,a=r.signature_sign(t.__wbg_ptr,n,_);return q.__wrap(a)}verify(t,e){b(t,U);const n=J(e,r.__wbindgen_malloc),_=w;return r.signature_verify(this.__wbg_ptr,t.__wbg_ptr,n,_)!==0}static from_string(t){const e=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=w,_=r.signature_from_string(e,n);return q.__wrap(_)}to_string(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.signature_to_string(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}}class nt{static __wrap(t){t=t>>>0;const e=Object.create(nt.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_transaction_free(t)}static fromString(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;r.transaction_fromString(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return nt.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.transaction_toString(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}transactionId(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.transaction_transactionId(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}transactionType(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.transaction_transactionType(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}}class A{static __wrap(t){t=t>>>0;const e=Object.create(A.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_verifyingkey_free(t)}static fromBytes(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),i=J(t,r.__wbindgen_malloc),c=w;r.verifyingkey_fromBytes(a,i,c);var e=s()[a/4+0],n=s()[a/4+1],_=s()[a/4+2];if(_)throw p(n);return A.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toBytes(){try{const i=r.__wbindgen_add_to_stack_pointer(-16);r.verifyingkey_toBytes(i,this.__wbg_ptr);var t=s()[i/4+0],e=s()[i/4+1],n=s()[i/4+2],_=s()[i/4+3];if(_)throw p(n);var a=Mt(t,e).slice();return r.__wbindgen_free(t,e*1),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class V{static __wrap(t){t=t>>>0;const e=Object.create(V.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_viewkey_free(t)}static from_private_key(t){b(t,k);const e=r.viewkey_from_private_key(t.__wbg_ptr);return V.__wrap(e)}static from_string(t){const e=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=w,_=r.viewkey_from_string(e,n);return V.__wrap(_)}to_string(){let t,e;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.viewkey_to_string(a,this.__wbg_ptr);var n=s()[a/4+0],_=s()[a/4+1];return t=n,e=_,R(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}to_address(){const t=r.viewkey_to_address(this.__wbg_ptr);return U.__wrap(t)}decrypt(t){let e,n;try{const y=r.__wbindgen_add_to_stack_pointer(-16),m=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),h=w;r.viewkey_decrypt(y,this.__wbg_ptr,m,h);var _=s()[y/4+0],a=s()[y/4+1],i=s()[y/4+2],c=s()[y/4+3],d=_,u=a;if(c)throw d=0,u=0,p(i);return e=d,n=u,R(d,u)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}}class lt{static __wrap(t){t=t>>>0;const e=Object.create(lt.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_wbg_rayon_poolbuilder_free(t)}numThreads(){return r.wbg_rayon_poolbuilder_numThreads(this.__wbg_ptr)>>>0}receiver(){return r.wbg_rayon_poolbuilder_receiver(this.__wbg_ptr)}build(){r.wbg_rayon_poolbuilder_build(this.__wbg_ptr)}}async function Dt(o,t){if(typeof Response=="function"&&o instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(o,t)}catch(n){if(o.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const e=await o.arrayBuffer();return await WebAssembly.instantiate(e,t)}else{const e=await WebAssembly.instantiate(o,t);return e instanceof WebAssembly.Instance?{instance:e,module:o}:e}}function jt(){const o={};return o.wbg={},o.wbg.__wbindgen_string_new=function(t,e){const n=R(t,e);return g(n)},o.wbg.__wbg_transaction_new=function(t){const e=nt.__wrap(t);return g(e)},o.wbg.__wbindgen_object_drop_ref=function(t){p(t)},o.wbg.__wbg_log_bcdbad8373c39b16=function(t,e){console.log(R(t,e))},o.wbg.__wbindgen_string_get=function(t,e){const n=l(e),_=typeof n=="string"?n:void 0;var a=E(_)?0:f(_,r.__wbindgen_malloc,r.__wbindgen_realloc),i=w;s()[t/4+1]=i,s()[t/4+0]=a},o.wbg.__wbindgen_cb_drop=function(t){const e=p(t).original;return e.cnt--==1?(e.a=0,!0):!1},o.wbg.__wbindgen_object_clone_ref=function(t){const e=l(t);return g(e)},o.wbg.__wbg_new_abda76e883ba8a5f=function(){const t=new Error;return g(t)},o.wbg.__wbg_stack_658279fe44541cf6=function(t,e){const n=l(e).stack,_=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w;s()[t/4+1]=a,s()[t/4+0]=_},o.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let n,_;try{n=t,_=e,console.error(R(t,e))}finally{r.__wbindgen_free(n,_,1)}},o.wbg.__wbg_fetch_57429b87be3dcc33=function(t){const e=fetch(l(t));return g(e)},o.wbg.__wbindgen_link_22046963fe0b707a=function(t){const e="data:application/javascript,"+encodeURIComponent(`onmessage = function (ev) {
            let [ia, index, value] = ev.data;
            ia = new Int32Array(ia.buffer);
            let result = Atomics.wait(ia, index, value);
            postMessage(result);
        };
        `),n=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w;s()[t/4+1]=_,s()[t/4+0]=n},o.wbg.__wbindgen_number_new=function(t){return g(t)},o.wbg.__wbg_waitAsync_60fb5e2e86467e31=function(){const t=Atomics.waitAsync;return g(t)},o.wbg.__wbindgen_is_undefined=function(t){return l(t)===void 0},o.wbg.__wbg_waitAsync_73fd6eb3bace0a8d=function(t,e,n){const _=Atomics.waitAsync(l(t),e,n);return g(_)},o.wbg.__wbg_async_e1a2a669aacf35ff=function(t){return l(t).async},o.wbg.__wbg_value_555e4f564193db05=function(t){const e=l(t).value;return g(e)},o.wbg.__wbg_fetch_8eaf01857a5bb21f=function(t,e){const n=l(t).fetch(l(e));return g(n)},o.wbg.__wbg_signal_4bd18fb489af2d4c=function(t){const e=l(t).signal;return g(e)},o.wbg.__wbg_new_55c9955722952374=function(){return v(function(){const t=new AbortController;return g(t)},arguments)},o.wbg.__wbg_abort_654b796176d117aa=function(t){l(t).abort()},o.wbg.__wbg_data_ab99ae4a2e1e8bc9=function(t){const e=l(t).data;return g(e)},o.wbg.__wbg_status_114ef6fe27fb8b00=function(){return v(function(t){return l(t).status},arguments)},o.wbg.__wbg_response_f2acf2ecbe021710=function(){return v(function(t){const e=l(t).response;return g(e)},arguments)},o.wbg.__wbg_responseText_da275667251fd153=function(){return v(function(t,e){const n=l(e).responseText;var _=E(n)?0:f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w;s()[t/4+1]=a,s()[t/4+0]=_},arguments)},o.wbg.__wbg_new_daafff584c71593b=function(){return v(function(){const t=new XMLHttpRequest;return g(t)},arguments)},o.wbg.__wbg_open_56fa1eb95989f6a5=function(){return v(function(t,e,n,_,a,i){l(t).open(R(e,n),R(_,a),i!==0)},arguments)},o.wbg.__wbg_overrideMimeType_1a661d17da5f8baf=function(){return v(function(t,e,n){l(t).overrideMimeType(R(e,n))},arguments)},o.wbg.__wbg_send_9f5007eae908c72e=function(){return v(function(t){l(t).send()},arguments)},o.wbg.__wbg_newwithstrandinit_cad5cd6038c7ff5d=function(){return v(function(t,e,n){const _=new Request(R(t,e),l(n));return g(_)},arguments)},o.wbg.__wbg_setonmessage_f0bd0280573b7084=function(t,e){l(t).onmessage=l(e)},o.wbg.__wbg_new_8e7322f46d5d019c=function(){return v(function(t,e){const n=new Worker(R(t,e));return g(n)},arguments)},o.wbg.__wbg_postMessage_8c609e2bde333d9c=function(){return v(function(t,e){l(t).postMessage(l(e))},arguments)},o.wbg.__wbg_new_1eead62f64ca15ce=function(){return v(function(){const t=new Headers;return g(t)},arguments)},o.wbg.__wbg_append_fda9e3432e3e88da=function(){return v(function(t,e,n,_,a){l(t).append(R(e,n),R(_,a))},arguments)},o.wbg.__wbg_instanceof_Response_fc4327dbfcdf5ced=function(t){let e;try{e=l(t)instanceof Response}catch{e=!1}return e},o.wbg.__wbg_url_8503de97f69da463=function(t,e){const n=l(e).url,_=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w;s()[t/4+1]=a,s()[t/4+0]=_},o.wbg.__wbg_status_ac85a3142a84caa2=function(t){return l(t).status},o.wbg.__wbg_headers_b70de86b8e989bc0=function(t){const e=l(t).headers;return g(e)},o.wbg.__wbg_arrayBuffer_288fb3538806e85c=function(){return v(function(t){const e=l(t).arrayBuffer();return g(e)},arguments)},o.wbg.__wbg_crypto_c48a774b022d20ac=function(t){const e=l(t).crypto;return g(e)},o.wbg.__wbindgen_is_object=function(t){const e=l(t);return typeof e=="object"&&e!==null},o.wbg.__wbg_process_298734cf255a885d=function(t){const e=l(t).process;return g(e)},o.wbg.__wbg_versions_e2e78e134e3e5d01=function(t){const e=l(t).versions;return g(e)},o.wbg.__wbg_node_1cd7a5d853dbea79=function(t){const e=l(t).node;return g(e)},o.wbg.__wbindgen_is_string=function(t){return typeof l(t)=="string"},o.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(t){const e=l(t).msCrypto;return g(e)},o.wbg.__wbg_require_8f08ceecec0f4fee=function(){return v(function(){const t=module.require;return g(t)},arguments)},o.wbg.__wbindgen_is_function=function(t){return typeof l(t)=="function"},o.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return v(function(t,e){l(t).getRandomValues(l(e))},arguments)},o.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return v(function(t,e){l(t).randomFillSync(p(e))},arguments)},o.wbg.__wbg_get_44be0491f933a435=function(t,e){const n=l(t)[e>>>0];return g(n)},o.wbg.__wbg_length_fff51ee6522a1a18=function(t){return l(t).length},o.wbg.__wbg_newnoargs_581967eacc0e2604=function(t,e){const n=new Function(R(t,e));return g(n)},o.wbg.__wbg_next_526fc47e980da008=function(t){const e=l(t).next;return g(e)},o.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return v(function(t){const e=l(t).next();return g(e)},arguments)},o.wbg.__wbg_done_5c1f01fb660d73b5=function(t){return l(t).done},o.wbg.__wbg_value_1695675138684bd5=function(t){const e=l(t).value;return g(e)},o.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return g(Symbol.iterator)},o.wbg.__wbg_get_97b561fb56f034b5=function(){return v(function(t,e){const n=Reflect.get(l(t),l(e));return g(n)},arguments)},o.wbg.__wbg_call_cb65541d95d71282=function(){return v(function(t,e){const n=l(t).call(l(e));return g(n)},arguments)},o.wbg.__wbg_new_b51585de1b234aff=function(){const t=new Object;return g(t)},o.wbg.__wbg_self_1ff1d729e9aae938=function(){return v(function(){const t=self.self;return g(t)},arguments)},o.wbg.__wbg_window_5f4faef6c12b79ec=function(){return v(function(){const t=window.window;return g(t)},arguments)},o.wbg.__wbg_globalThis_1d39714405582d3c=function(){return v(function(){const t=globalThis.globalThis;return g(t)},arguments)},o.wbg.__wbg_global_651f05c6a0944d1c=function(){return v(function(){const t=global.global;return g(t)},arguments)},o.wbg.__wbg_newwithlength_3ec098a360da1909=function(t){const e=new Array(t>>>0);return g(e)},o.wbg.__wbg_set_502d29070ea18557=function(t,e,n){l(t)[e>>>0]=p(n)},o.wbg.__wbg_of_3f69007bb4eeae65=function(t,e,n){const _=Array.of(l(t),l(e),l(n));return g(_)},o.wbg.__wbg_call_01734de55d61e11d=function(){return v(function(t,e,n){const _=l(t).call(l(e),l(n));return g(_)},arguments)},o.wbg.__wbg_new_43f1b47c28813cbd=function(t,e){try{var n={a:t,b:e},_=(i,c)=>{const d=n.a;n.a=0;try{return Bt(d,n.b,i,c)}finally{n.a=d}};const a=new Promise(_);return g(a)}finally{n.a=n.b=0}},o.wbg.__wbg_resolve_53698b95aaf7fcf8=function(t){const e=Promise.resolve(l(t));return g(e)},o.wbg.__wbg_then_f7e06ee3c11698eb=function(t,e){const n=l(t).then(l(e));return g(n)},o.wbg.__wbg_then_b2267541e2a73865=function(t,e,n){const _=l(t).then(l(e),l(n));return g(_)},o.wbg.__wbg_buffer_085ec1f694018c4f=function(t){const e=l(t).buffer;return g(e)},o.wbg.__wbg_new_a0af68041688e8fd=function(t){const e=new Int32Array(l(t));return g(e)},o.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(t,e,n){const _=new Uint8Array(l(t),e>>>0,n>>>0);return g(_)},o.wbg.__wbg_new_8125e318e6245eed=function(t){const e=new Uint8Array(l(t));return g(e)},o.wbg.__wbg_set_5cf90238115182c3=function(t,e,n){l(t).set(l(e),n>>>0)},o.wbg.__wbg_length_72e2208bbc0efc61=function(t){return l(t).length},o.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(t){const e=new Uint8Array(t>>>0);return g(e)},o.wbg.__wbg_subarray_13db269f57aa838d=function(t,e,n){const _=l(t).subarray(e>>>0,n>>>0);return g(_)},o.wbg.__wbg_stringify_e25465938f3f611f=function(){return v(function(t){const e=JSON.stringify(l(t));return g(e)},arguments)},o.wbg.__wbg_has_c5fcd020291e56b8=function(){return v(function(t,e){return Reflect.has(l(t),l(e))},arguments)},o.wbg.__wbg_set_092e06b0f9d71865=function(){return v(function(t,e,n){return Reflect.set(l(t),l(e),l(n))},arguments)},o.wbg.__wbindgen_debug_string=function(t,e){const n=yt(l(e)),_=f(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w;s()[t/4+1]=a,s()[t/4+0]=_},o.wbg.__wbindgen_throw=function(t,e){throw new Error(R(t,e))},o.wbg.__wbindgen_rethrow=function(t){throw p(t)},o.wbg.__wbindgen_module=function(){const t=gt.__wbindgen_wasm_module;return g(t)},o.wbg.__wbindgen_memory=function(){const t=r.memory;return g(t)},o.wbg.__wbg_startWorkers_6fd3af285ea11136=function(t,e,n){const _=Ft(p(t),p(e),lt.__wrap(n));return g(_)},o.wbg.__wbindgen_closure_wrapper7008=function(t,e,n){const _=ht(t,e,1180,vt);return g(_)},o.wbg.__wbindgen_closure_wrapper7010=function(t,e,n){const _=ht(t,e,1180,vt);return g(_)},o}function Lt(o,t){o.wbg.memory=t||new WebAssembly.Memory({initial:122,maximum:65536,shared:!0})}function Kt(o,t){return r=o.exports,gt.__wbindgen_wasm_module=t,tt=null,Z=null,r.__wbindgen_start(),r}function qt(o,t){if(r!==void 0)return r;const e=jt();Lt(e,t),o instanceof WebAssembly.Module||(o=new WebAssembly.Module(o));const n=new WebAssembly.Instance(o,e);return Kt(n,o)}async function gt(o,t){if(r!==void 0)return r;typeof o>"u"&&(o=new URL("/assets/aleo_wasm_bg-a1ac222a.wasm",self.location));const e=jt();(typeof o=="string"||typeof Request=="function"&&o instanceof Request||typeof URL=="function"&&o instanceof URL)&&(o=fetch(o)),Lt(e,t);const{instance:n,module:_}=await Dt(await o,e);return Kt(n,_)}var Jt=Object.freeze({__proto__:null,Address:U,ExecutionResponse:ct,KeyPair:G,PrivateKey:k,PrivateKeyCiphertext:B,Program:x,ProgramManager:rt,ProvingKey:P,RecordCiphertext:st,RecordPlaintext:S,Signature:q,Transaction:nt,VerifyingKey:A,ViewKey:V,default:gt,initSync:qt,initThreadPool:Ct,wbg_rayon_PoolBuilder:lt,wbg_rayon_start_worker:$t});const ot="https://testnet3.parameters.aleo.org/fee.prover.0bfc24f",at="https://testnet3.parameters.aleo.org/fee.verifier.44783e8",Xt="https://testnet3.parameters.aleo.org/join.prover.6856be2",zt="https://testnet3.parameters.aleo.org/join.verifier.9c946a3",Ht="https://testnet3.parameters.aleo.org/split.prover.8469bca",Gt="https://testnet3.parameters.aleo.org/split.verifier.ba3bdd9",Yt="https://testnet3.parameters.aleo.org/transfer.prover.2a9a6f2",Qt="https://testnet3.parameters.aleo.org/transfer.verifier.3a59762",Zt="https://testnet3.parameters.aleo.org/transfer_private_to_public.prover.cf3b952",te="https://testnet3.parameters.aleo.org/transfer_private_to_public.verifier.5bd459b",ee="https://testnet3.parameters.aleo.org/transfer_public.prover.1117f0a",re="https://testnet3.parameters.aleo.org/transfer_public.verifier.d63af11",ne="https://testnet3.parameters.aleo.org/transfer_public_to_private.prover.7b763af",_e="https://testnet3.parameters.aleo.org/transfer_public_to_private.verifier.25f6542";let C=null,j=null,wt=null,dt=null,bt=null,ft=null,pt=null,ut=null,Rt=null,kt=null,Et=null,Tt=null,St=null,Ot=null;await gt();await Ct(10);const T=new rt,N=async(o,t)=>{console.log("Downloading proving and verifying keys from: ",o,t);let n=await(await fetch(o)).arrayBuffer(),a=await(await fetch(t)).arrayBuffer(),i=P.fromBytes(new Uint8Array(n)),c=A.fromBytes(new Uint8Array(a));return[i,c]},Wt=o=>{try{return x.fromString(o)}catch(t){throw console.log(t),"Program input is not a valid Aleo program"}},Pt=async o=>{const t=Wt(o);let e;try{const _=`https://vm.aleo.org/api/testnet3/program/${t.id()}`;e=await(await fetch(_)).json()}catch(n){throw console.log(n),"Program does not exist on chain"}try{const n=x.fromString(e);return t.isEqual(n)}catch(n){throw console.log(n),"Could not parse program from chain"}};let it=null;self.addEventListener("message",o=>{if(o.data.type==="ALEO_EXECUTE_PROGRAM_LOCAL"){const{localProgram:t,aleoFunction:e,inputs:n,privateKey:_}=o.data;console.log("Web worker: Executing function locally...");let a=performance.now();try{Wt(t),it===null?it=t:it!==t&&(T.clearKeyCache(),it=t);let i=T.execute_local(k.from_string(_),t,e,n,!0);console.log(`Web worker: Local execution completed in ${performance.now()-a} ms`);let c=i.getOutputs();console.log(`Function execution response: ${c}`),self.postMessage({type:"OFFLINE_EXECUTION_COMPLETED",outputs:c})}catch(i){console.log(i),self.postMessage({type:"ERROR",errorMessage:i.toString()})}}else if(o.data.type==="ALEO_EXECUTE_PROGRAM_ON_CHAIN"){const{remoteProgram:t,aleoFunction:e,inputs:n,privateKey:_,fee:a,feeRecord:i,url:c}=o.data;console.log("Web worker: Creating execution...");let d=performance.now();(async function(){try{if(!await Pt(t))throw"Program does not match the program deployed on the Aleo Network, cannot execute";(C===null||j===null)&&([C,j]=await N(ot,at)),T.keyExists("credits.aleo","fee")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"fee",C,j);let y=await T.execute(k.from_string(_),t,e,n,a,S.fromString(i),c,!0);console.log(`Web worker: On-chain execution transaction created in ${performance.now()-d} ms`);let m=y.toString();console.log(m),self.postMessage({type:"EXECUTION_TRANSACTION_COMPLETED",executeTransaction:m})}catch(u){console.log(u),self.postMessage({type:"ERROR",errorMessage:u.toString()})}})()}else if(o.data.type==="ALEO_TRANSFER"){const{privateKey:t,amountCredits:e,recipient:n,transfer_type:_,amountRecord:a,fee:i,feeRecord:c,url:d}=o.data;console.log("Web worker: Creating transfer...");let u=performance.now();(async function(){try{if(_==="public")(Et===null||Tt===null)&&([Et,Tt]=await N(ee,re));else if(_==="private")(pt===null||ut===null)&&([pt,ut]=await N(Yt,Qt));else if(_==="publicToPrivate")(St===null||Ot===null)&&([St,Ot]=await N(ne,_e));else if(_==="privateToPublic")(Rt===null||kt===null)&&([Rt,kt]=await N(Zt,te));else throw"Invalid transfer type";T.keyExists("credits.aleo","transfer")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"transfer",pt,ut),(C===null||j===null)&&([C,j]=await N(ot,at)),T.keyExists("credits.aleo","fee")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"fee",C,j);let y=await T.transfer(k.from_string(t),e,n,"transfer_private",S.fromString(a),i,S.fromString(c),d,!0);console.log(`Web worker: Transfer transaction created in ${performance.now()-u} ms`);let m=y.toString();console.log(m),self.postMessage({type:"TRANSFER_TRANSACTION_COMPLETED",transferTransaction:m})}catch(y){console.log(y),self.postMessage({type:"ERROR",errorMessage:y.toString()})}})()}else if(o.data.type==="ALEO_DEPLOY"){const{program:t,privateKey:e,fee:n,feeRecord:_,url:a}=o.data;console.log("Web worker: Creating deployment...");let i=performance.now();(async function(){try{try{throw await Pt(t),"A program with the same name already exists on the Aleo Network, cannot deploy"}catch(u){if(u!=="Program does not exist on chain")throw u;console.log("Program not found on the Aleo Network - proceeding with deployment...")}(C===null||j===null)&&([C,j]=await N(ot,at)),T.keyExists("credits.aleo","fee")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"fee",C,j);let c=await T.deploy(k.from_string(e),t,void 0,n,S.fromString(_),a,!0);console.log(`Web worker: Deployment transaction created in ${performance.now()-i} ms`);let d=c.toString();console.log(d),self.postMessage({type:"DEPLOY_TRANSACTION_COMPLETED",deployTransaction:d})}catch(c){console.log(c),self.postMessage({type:"ERROR",errorMessage:c.toString()})}})()}else if(o.data.type==="ALEO_SPLIT"){const{splitAmount:t,record:e,privateKey:n,url:_}=o.data;console.log("Web worker: Creating split...");let a=performance.now();(async function(){try{(bt===null||ft===null)&&([bt,ft]=await N(Ht,Gt)),T.keyExists("credits.aleo","split")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"split",bt,ft);let i=await T.split(k.from_string(n),t,S.fromString(e),_,!0);console.log(`Web worker: Split transaction created in ${performance.now()-a} ms`);let c=i.toString();console.log(c),self.postMessage({type:"SPLIT_TRANSACTION_COMPLETED",splitTransaction:c})}catch(i){console.log(i),self.postMessage({type:"ERROR",errorMessage:i.toString()})}})()}else if(o.data.type==="ALEO_JOIN"){const{recordOne:t,recordTwo:e,fee:n,feeRecord:_,privateKey:a,url:i}=o.data;console.log("Web worker: Creating join...");let c=performance.now();(async function(){(wt===null||dt===null)&&([wt,dt]=await N(Xt,zt)),T.keyExists("credits.aleo","join")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"join",wt,dt),(C===null||j===null)&&([C,j]=await N(ot,at)),T.keyExists("credits.aleo","fee")||T.cacheKeypairInWasmMemory(x.getCreditsProgram().toString(),"fee",C,j);try{let d=await T.join(k.from_string(a),S.fromString(t),S.fromString(e),n,S.fromString(_),i,!0);console.log(`Web worker: Join transaction created in ${performance.now()-c} ms`);let u=d.toString();console.log(u),self.postMessage({type:"JOIN_TRANSACTION_COMPLETED",joinTransaction:u})}catch(d){console.log(d),self.postMessage({type:"ERROR",errorMessage:d.toString()})}})()}});
//# sourceMappingURL=worker-7dfcdcf0.js.map
